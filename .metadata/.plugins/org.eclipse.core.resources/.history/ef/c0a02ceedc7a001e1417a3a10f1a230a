package FileSearchTool;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class FileSearchLogic {
    private FileSearchCriteria criteria;
    private List<FileResult> results;

    public FileSearchLogic(FileSearchCriteria criteria) {
        this.criteria = criteria;
        results = new ArrayList<>();
    }

    public void search() {
        File searchDirectory = new File("C:\\"); // Set your search directory here
        searchDirectory(searchDirectory);
    }

    private void searchDirectory(File directory) {
        File[] files = directory.listFiles();
        if (files != null) {
            for (File file : files) {
                if (file.isDirectory() && criteria.isIncludeSubdirectories()) {
                    searchDirectory(file); // Recursively search subdirectories
                } else if (isFileMatchingCriteria(file)) {
                    results.add(new FileResult(file));
                }
            }
        }
    }

    private boolean isFileMatchingCriteria(File file) {
        // Implement the logic to check if the file matches the criteria
        // You can use criteria.getFileName(), criteria.getMinSize(), etc.
        return true; // Placeholder; you need to implement this
    }

    public List<FileResult> getResults() {
        return results;
    }
}
